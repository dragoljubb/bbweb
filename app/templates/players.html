{% extends "layout.html" %}

{% block content %}
<div class="players-page container mt-4">

  <!-- Top filter row -->
  <div class="d-flex justify-content-between align-items-center mb-3">
    <!-- Search box -->
    <input type="text" id="playerSearch" class="form-control w-50" placeholder="Search players...">

    <!-- Season select -->
    <select id="seasonSelectPlayers" class="form-select w-auto">
      {% for s in seasons %}
        <option value="{{ s.code }}" {% if s.code == selected_season %}selected{% endif %}>
          {{ s.label }}
        </option>
      {% endfor %}
    </select>
  </div>

  <!-- Players grid -->
  <div id="playersGrid" class="players-grid">
    {% for player in players %}
    <a href="{{ url_for('person_profile', person_code=player.person_code) }}"
       class="player-card-link"
       style="display: {{ 'block' if loop.index0 < 24 else 'none' }};"
       data-match="true"
       data-index="{{ loop.index0 }}"
       data-name="{{ (player.first_name + ' ' + player.last_name).lower() }}">
      <div class="player-card">
        <div class="person-img">
          <img src="{{ person_img(player.club_code, player.person_code) }}" alt="{{ player.formatted_name }}">
        </div>

        <div class="person-name">
          <div class="first-name">{{ player.first_name }}</div>
          <div class="last-name">{{ player.last_name }}</div>
        </div>

        <div class="player-logo">
          <img src="{{ team_logo(player.club_code) }}" alt="{{ player.club_code }}">
        </div>
      </div>
    </a>
    {% endfor %}
  </div>

  <!-- Load more button -->
  <div class="text-center mt-3">
    <button id="loadMorePlayers" class="btn btn-outline-primary">Load more</button>
  </div>

</div>
{% endblock %}

{% block scripts %}
<!-- UkljuÄi odvojeni JS fajl za players -->
<script src="{{ url_for('static', filename='js/players.js') }}"></script>
{% endblock %}
