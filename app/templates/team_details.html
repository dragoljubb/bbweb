{% extends "layout.html" %}

{% block content %}

<!-- Top header panel -->
<div class="team-header position-relative text-white mb-4" style="height: 180px; background-color: #333; border-radius: 8px;">
  
  <!-- Grb poluprozirno -->
  <img src="{{ team.crest_url }}"
       alt="{{ team.club_name }}"
       class="team-header-logo position-absolute" 
       style="height: 100px; width: 100px; top: 40px; left: 30px; opacity: 0.3;">
  
  <!-- Info o timu -->
  <div class="team-header-info position-absolute" style="top: 50px; left: 150px;">
    <h2>{{ team.club_name }}</h2>

    <p class="mb-1"><strong>President:</strong> {{ team.president }}</p>
    <p class="mb-1"><strong>Phone:</strong> {{ team.phone }}</p>
    <p class="mb-1"><strong>City:</strong> {{ team.city }}</p>
    <p class="mb-1"><strong>Address:</strong> {{ team.address }}</p>
    <p class="mb-0"><strong>Arena:</strong> {{ team.arena_name }}</p>
  </div>
  
  <!-- Back button -->
  <a href="/teams" class="btn btn-light position-absolute" style="top: 10px; right: 30px;">Back</a>
</div>

<!-- Tabovi: Roster i Games -->
<ul class="nav nav-tabs mb-3" id="teamTabs" role="tablist">
  <li class="nav-item" role="presentation">
    <button class="nav-link active" id="roster-tab" data-bs-toggle="tab" data-bs-target="#roster" type="button" role="tab">Roster</button>
  </li>
  <li class="nav-item" role="presentation">
    <button class="nav-link" id="games-tab" data-bs-toggle="tab" data-bs-target="#games" type="button" role="tab">Games</button>
  </li>
</ul>

<div class="tab-content" id="teamTabsContent">
  <!-- Roster -->
  <div class="tab-pane fade show active" id="roster" role="tabpanel">
    <div class="row">
      {% for player in roster %}
        <div class="col-md-3 mb-3 text-center">
          <img src="{{ player.photo }}" alt="{{ player.name }}" class="img-fluid rounded mb-1" style="height: 100px; object-fit: cover;">
          <p class="mb-0">{{ player.name }}</p>
          <small>{{ player.position }}</small>
        </div>
      {% endfor %}
      {% for coach in coaches %}
        <div class="col-md-3 mb-3 text-center">
          <img src="{{ coach.photo }}" alt="{{ coach.name }}" class="img-fluid rounded mb-1" style="height: 100px; object-fit: cover;">
          <p class="mb-0">{{ coach.name }}</p>
          <small>{{ coach.role }}</small>
        </div>
      {% endfor %}
    </div>
  </div>

  <!-- Games -->
  <div class="tab-pane fade" id="games" role="tabpanel">
    <table class="table table-striped table-hover">
      <thead>
        <tr>
          <th>Date</th>
          <th>Opponent</th>
          <th>Home/Away</th>
          <th>Score</th>
        </tr>
      </thead>
      <tbody>
        {% for game in games %}
        <tr>
          <td>{{ game.date }}</td>
          <td>{{ game.opponent }}</td>
          <td>{{ game.home_away }}</td>
          <td>{{ game.score }}</td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
</div>

<!-- CSS -->
<style>
.team-header {
  background-size: cover;
  background-position: center;
  position: relative;
}

.team-header-logo {
  object-fit: contain;
}

.team-header-info h2 {
  margin-bottom: 0.2rem;
}

.team-header-info p {
  margin-bottom: 0.1rem;
}

.tab-pane img {
  max-width: 100%;
}
</style>

{% endblock %}
