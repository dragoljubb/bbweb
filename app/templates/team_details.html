{% extends "layout.html" %}

{% block content %}

<!-- Top header panel -->

<div class="team-header d-flex align-items-center mb-4">

  <!-- Watermark grb -->
  <img src="{{team_logo(team.club_code) }}"
       alt="{{ team.club_name }}"
       class="team-header-logo">

  <!-- Info desno -->
  <div class="team-header-info ms-auto text-end">
    <h2 class="team-name">{{ team.club_name }}</h2>

    <div class="team-meta">
      <div>{{ team.city }}</div>
      <div>{{ team.arena_name }}</div>
      <div>{{ team.president }}</div>
      <div>{{ team.phone }}</div>
    </div>
  </div>

  <!-- Back button -->
  <a href="/teams" class="btn btn-outline-secondary team-back-btn">
    Back
  </a>
</div>


<!-- Tabovi: Roster i Games -->
<ul class="nav nav-tabs mb-3" id="teamTabs" role="tablist">
  <li class="nav-item" role="presentation">
    <button class="nav-link active" id="roster-tab" data-bs-toggle="tab" data-bs-target="#roster" type="button" role="tab">Roster</button>
  </li>
  <li class="nav-item" role="presentation">
    <button class="nav-link" id="games-tab" data-bs-toggle="tab" data-bs-target="#games" type="button" role="tab">Games</button>
  </li>
</ul>

<div class="tab-content" id="teamTabsContent">
  <!-- Roster -->
  <div class="tab-pane fade show active" id="roster" role="tabpanel">
    <div class="row">
      {% for player in roster %}
        <div class="col-md-3 mb-3 text-center">
          <img src="{{ player.photo }}" alt="{{ player.name }}" class="img-fluid rounded mb-1" style="height: 100px; object-fit: cover;">
          <p class="mb-0">{{ player.name }}</p>
          <small>{{ player.position }}</small>
        </div>
      {% endfor %}
      {% for coach in coaches %}
        <div class="col-md-3 mb-3 text-center">
          <img src="{{ coach.photo }}" alt="{{ coach.name }}" class="img-fluid rounded mb-1" style="height: 100px; object-fit: cover;">
          <p class="mb-0">{{ coach.name }}</p>
          <small>{{ coach.role }}</small>
        </div>
      {% endfor %}
    </div>
  </div>

  <!-- Games -->
  <div class="tab-pane fade" id="games" role="tabpanel">
    <table class="table table-striped table-hover">
      <thead>
        <tr>
          <th>Date</th>
          <th>Opponent</th>
          <th>Home/Away</th>
          <th>Score</th>
        </tr>
      </thead>
      <tbody>
        {% for game in games %}
        <tr>
          <td>{{ game.date }}</td>
          <td>{{ game.opponent }}</td>
          <td>{{ game.home_away }}</td>
          <td>{{ game.score }}</td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
</div>

<!-- CSS -->
<style>
/* ===============================
   TEAM HEADER
   =============================== */
.team-header {
  position: relative;
  display: flex;
  align-items: center;
  height: 200px;
  padding: 30px 40px;
  background: #f4f5f7; /* svetla, neutralna pozadina */
  border-radius: 10px;
  overflow: hidden;
}

/* Large transparent logo - centered, samo opacity */
.team-header-logo {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%); /* centriranje horizontalno i vertikalno */
  height: 150px;                     /* prilagodjeno */
  width: auto;
  opacity: 0.5;                       /* diskretno */
  pointer-events: none;
  z-index: 1;
}

/* Right aligned info */
.team-header-info {
  margin-left: auto;
  text-align: right;
  z-index: 2;
  max-width: 60%;
}

/* Team name */
.team-header-info h2 {
  font-size: 1.4rem;
  font-weight: 600;
  letter-spacing: 0.5px;
  margin-bottom: 8px;
}

/* Meta info text */
.team-header-info p {
  font-size: 0.75rem;
  margin-bottom: 2px;
  color: #555;
  line-height: 1.3;
}

/* Back button */
.team-header .btn {
  position: absolute;
  top: 16px;
  right: 20px;
  z-index: 3;
}

/* ===============================
   TABS
   =============================== */
.nav-tabs .nav-link {
  font-size: 0.85rem;
  padding: 6px 12px;
}

.nav-tabs .nav-link.active {
  font-weight: 600;
}

/* ===============================
   ROSTER
   =============================== */
.tab-pane img {
  height: 90px;
  width: 100%;
  object-fit: cover;
  border-radius: 4px;
}

.tab-pane p {
  font-size: 0.8rem;
  margin-bottom: 2px;
}

.tab-pane small {
  font-size: 0.7rem;
  color: #777;
}

/* ===============================
   GAMES TABLE
   =============================== */
.table th, .table td {
  vertical-align: middle;
  font-size: 0.8rem;
}

/* ===============================
   UTILITIES
   =============================== */
.text-muted-small {
  font-size: 0.75rem;
  color: #666;
}


</style>

{% endblock %}
